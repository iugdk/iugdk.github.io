<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	<title>Quick Start - Leaflet tester</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" type="image/x-icon" href="http://iug.cartogram.dk/IUG_WEBGIS_v2/docs/images/favicon.ico">

	<link rel="stylesheet" href="index-filer/leaflet_002.css">
	<script src="index-filer/leaflet_002.js"></script>

	<script src="index-filer/jquery-3.js"></script>

	<script src="index-filer/leaflet.js"></script>
	<link href="index-filer/MarkerCluster.css" rel="stylesheet">
	<link href="index-filer/MarkerCluster_002.css" rel="stylesheet">


	<script src="index-filer/Leaflet.js"></script>
	<link href="index-filer/leaflet.css" rel="stylesheet">


	<script src="index-filer/easy-button.js"></script>
	<link href="index-filer/easy-button.css" rel="stylesheet">

</head>

<body>



<div id="mapid" style="width: 700px; height: 450px; outline: medium none;" class="leaflet-container leaflet-fade-anim leaflet-grab leaflet-touch-drag" tabindex="0"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" role="presentation" src="index-filer/2_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1048px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(792px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1304px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(536px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1560px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(280px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1816px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_005.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_003.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(24px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2072px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/2.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, 486px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/3_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, 742px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_008.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/1_004.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, 230px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/4_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, 998px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_006.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/0_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, -26px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-232px, 1254px, 0px); opacity: 1;"><img alt="" role="presentation" src="index-filer/5_007.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(2328px, 1254px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-overlay-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(1000.45px, 691.281px, 0px) scale(4);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out">-</a></div><div class="leaflet-control-fullscreen leaflet-bar leaflet-control"><a class="leaflet-control-fullscreen-button leaflet-bar-part" href="#" title="undefined"></a></div></div><div class="leaflet-top leaflet-right"><div class="leaflet-bar easy-button-container leaflet-control"><button class="easy-button-button leaflet-bar-part leaflet-interactive add-markers-active" type="button" title="add random markers"><span class="button-state state-add-markers add-markers-active"><img alt="do this" src="index-filer/E300.png" style="opacity:0.4" width="40" align="middle" height="40"></span></button></div><div class="leaflet-bar easy-button-container leaflet-control"><button class="easy-button-button leaflet-bar-part leaflet-interactive add-markers-active" type="button" title="add random markers"><span class="button-state state-add-markers add-markers-active"><img alt="do this" src="index-filer/A300.png" style="opacity:0.4" width="40" align="middle" height="40"></span></button></div><div class="leaflet-bar easy-button-container leaflet-control"><button class="easy-button-button leaflet-bar-part leaflet-interactive add-markers-active" type="button" title="add random markers"><span class="button-state state-add-markers add-markers-active"><img alt="do this" src="index-filer/H300.png" style="opacity:0.4" width="40" align="middle" height="40"></span></button></div><div class="leaflet-bar easy-button-container leaflet-control"><button class="easy-button-button leaflet-bar-part leaflet-interactive add-markers-active" type="button" title="add random markers"><span class="button-state state-add-markers add-markers-active"><img alt="do this" src="index-filer/W300.png" style="opacity:0.4" width="40" align="middle" height="40"></span></button></div></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com/" title="A JS library for interactive maps">Leaflet</a> | © <a href="http://iug.dk/">Engineers Without Borders, OpenStreetMap Contributors</a></div></div></div></div>
<script>
/* eslint-disable */
var map = L.map('mapid').setView([50.370, -4.14], 3);
map.addControl(new L.Control.Fullscreen({
  position: 'topleft', // change the position of the button can be topleft, topright, bottomright or bottomleft, defaut topleft
  title: 'Show me the fullscreen !', // change the title of the button, default Full Screen
  titleCancel: 'Exit fullscreen mode', // change the title of the button when fullscreen is on, default Exit Full Screen
  content: null, // change the content of the button, can be HTML, default null
  forceSeparateButton: true, // force seperate button to detach from zoom buttons, default false
  forcePseudoFullscreen: true, // force use of pseudo full screen even if full screen API is available, default false
  fullscreenElement: false // Dom element to render in full screen, false by default, fallback to map._container
}));

var basemap = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '&copy; <a href="http://IUG.dk">Engineers Without Borders, OpenStreetMap Contributors</a>'
}).addTo(map);

var owsrootUrl = 'http://88.99.35.158:8080/geoserver/IUG_MAP/ows';

var defaultParameters = {
    service : 'WFS',
    version : '2.0',
    request : 'GetFeature',
    typeName : 'IUG_MAP:Projects',
    outputFormat : 'text/javascript',
    format_options : 'callback:getJson',
    SrsName : 'EPSG:4326'
};

var parameters = L.Util.extend(defaultParameters);
var URL = owsrootUrl + L.Util.getParamString(parameters);

var markersEnviron = L.markerClusterGroup({
	iconCreateFunction: function(cluster) {
	var childCount = cluster.getChildCount();
		return L.divIcon({className: 'Environicon clusterIcons', html: '<div><span>' + childCount + '</span></div>'});
	},
	polygonOptions: {
	opacity: 0,
	fillOpacity: 0
	}
});

var markersWASH = L.markerClusterGroup({
	iconCreateFunction: function(cluster) {
	var childCount = cluster.getChildCount();
		return L.divIcon({className: 'Washicon clusterIcons', html: '<div><span>' + childCount + '</span></div>'});
	},
	polygonOptions: {
	opacity: 0,
	fillOpacity: 0
	}
});

var markersTechnical = L.markerClusterGroup({
	iconCreateFunction: function(cluster) {
	var childCount = cluster.getChildCount();
		return L.divIcon({className: 'Technicalicon clusterIcons', html: '<div><span>' + childCount + '</span></div>'});
	},
	polygonOptions: {
	opacity: 0,
	fillOpacity: 0
	}
});

var markersBuilding = L.markerClusterGroup({
	iconCreateFunction: function(cluster) {
	var childCount = cluster.getChildCount();
		return L.divIcon({className: 'Buildingicon clusterIcons', html: '<div><span>' + childCount + '</span></div>'});
	},
	polygonOptions: {
	opacity: 0,
	fillOpacity: 0
	}
});

var WFSLayer = null;

var icons = {
  wash: L.icon({
      iconUrl: 'https://ewbdk.org/graphics/logo/H300.png',
      iconSize: [32, 32],
      iconAnchor: [22, 36],
      popupAnchor: [-3, -36],
  }),
  environ: L.icon({
      iconUrl: 'https://ewbdk.org/graphics/logo/E300.png',
      iconSize: [32, 32],
      iconAnchor: [22, 36],
      popupAnchor: [-3, -36],
  }),
  building: L.icon({
      iconUrl: 'https://ewbdk.org/graphics/logo/A300.png',
      iconSize: [32, 32],
      iconAnchor: [22, 36],
      popupAnchor: [-3, -36],
  }),
  technical: L.icon({
      iconUrl: 'https://ewbdk.org/graphics/logo/W300.png',
      iconSize: [32, 32],
      iconAnchor: [22, 36],
      popupAnchor: [-3, -36],
  })
}

var ajaxWASH = $.ajax({
    url : URL,
    dataType : 'jsonp',
    jsonpCallback : 'getJson',
    success: function(data) {
    var TECHNICALJSON = L.geoJSON(data, {
        filter: TechnicalFilter,
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: icons.technical}).on('click', function (layer) {
              var props = layer.target.feature.properties
              var popup = L.popup()
                .setLatLng(latlng)
                .setContent(`
                  <table>
                    <tr><td class="tableTitle">Project</td><td class="tableText">${props.ProjectName}</td></tr>
                    <tr><td class="tableTitle">Kategori</td><td class="tableText">${props.Category}</td></tr>
                    <tr><td class="tableTitle">Land</td><td class="tableText">${props.Country}</td></tr>
                    <tr><td class="tableTitle">Projectleder</td><td class="tableText">${props.IUGProjectManager}</td></tr>
                    <tr><td class="tableTitle">Partner</td><td class="tableText">${props.ProjectPartnerOrganisation}</td></tr>
                    <tr><td class="tableTitle">Link</td><td class="tableText"><a href="${props.link}" target="_blank">link</a></td></tr>
                  </table>
                  <div class="imgContainer"><img class="projectImage" src="http://iug.dk/templates/IUG_Template/images/top_logo01.gif"/></div>
                  `)
                .openOn(map);
            })
        }
    });
    var BUILDINGJSON = L.geoJSON(data, {
        filter: BuildingFilter,
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: icons.building}).on('click', function (layer) {
              var props = layer.target.feature.properties
              var popup = L.popup()
                .setLatLng(latlng)
                .setContent(`
                  <table>
                    <tr><td class="tableTitle">Project</td><td class="tableText">${props.ProjectName}</td></tr>
                    <tr><td class="tableTitle">Kategori</td><td class="tableText">${props.Category}</td></tr>
                    <tr><td class="tableTitle">Land</td><td class="tableText">${props.Country}</td></tr>
                    <tr><td class="tableTitle">Projectleder</td><td class="tableText">${props.IUGProjectManager}</td></tr>
                    <tr><td class="tableTitle">Partner</td><td class="tableText">${props.ProjectPartnerOrganisation}</td></tr>
                    <tr><td class="tableTitle">Link</td><td class="tableText"><a href="${props.link}" target="_blank">link</a></td></tr>
                  </table>
                  <div class="imgContainer"><img class="projectImage" src="http://iug.dk/templates/IUG_Template/images/top_logo01.gif"/></div>
                  `)
                .openOn(map);
            })
        }
    });
    var ENVIRONJSON = L.geoJSON(data, {
        filter: EnvironFilter,
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: icons.environ}).on('click', function (layer) {
              var props = layer.target.feature.properties
              var popup = L.popup()
                .setLatLng(latlng)
                .setContent(`
                  <table>
                    <tr><td class="tableTitle">Project</td><td class="tableText">${props.ProjectName}</td></tr>
                    <tr><td class="tableTitle">Kategori</td><td class="tableText">${props.Category}</td></tr>
                    <tr><td class="tableTitle">Land</td><td class="tableText">${props.Country}</td></tr>
                    <tr><td class="tableTitle">Projectleder</td><td class="tableText">${props.IUGProjectManager}</td></tr>
                    <tr><td class="tableTitle">Partner</td><td class="tableText">${props.ProjectPartnerOrganisation}</td></tr>
                    <tr><td class="tableTitle">Link</td><td class="tableText"><a href="${props.link}" target="_blank">link</a></td></tr>
                  </table>
                  <div class="imgContainer"><img class="projectImage" src="http://iug.dk/templates/IUG_Template/images/top_logo01.gif"/></div>
                  `)
                .openOn(map);
            })
        }
    });
    var WASHJSON = L.geoJSON(data, {
        filter: WASHFilter,
        pointToLayer: function (feature, latlng) {
            return L.marker(latlng, {icon: icons.wash}).on('click', function (layer) {
              var props = layer.target.feature.properties
              var popup = L.popup()
                .setLatLng(latlng)
                .setContent(`
                  <table>
                    <tr><td class="tableTitle">Project</td><td class="tableText">${props.ProjectName}</td></tr>
                    <tr><td class="tableTitle">Kategori</td><td class="tableText">${props.Category}</td></tr>
                    <tr><td class="tableTitle">Land</td><td class="tableText">${props.Country}</td></tr>
                    <tr><td class="tableTitle">Projectleder</td><td class="tableText">${props.IUGProjectManager}</td></tr>
                    <tr><td class="tableTitle">Partner</td><td class="tableText">${props.ProjectPartnerOrganisation}</td></tr>
                    <tr><td class="tableTitle">Link</td><td class="tableText"><a href="${props.link}" target="_blank">link</a></td></tr>
                  </table>
                  <div class="imgContainer"><img class="projectImage" src="http://iug.dk/templates/IUG_Template/images/top_logo01.gif"/></div>
                  `)
                .openOn(map);
            })
        }
    });


		//add layers
		markersWASH.addLayer(WASHJSON)
		//map.addLayer(markersWASH);
		markersTechnical.addLayer(TECHNICALJSON);
		//map.addLayer(markersTechnical);
		markersBuilding.addLayer(BUILDINGJSON);
		//map.addLayer(markersBuilding);
		markersEnviron.addLayer(ENVIRONJSON);
		//map.addLayer(markersEnviron);

		//button test


		function WASHFilter(feature) {
  if (feature.properties.Category === "Water and Sanitation") return true
}
		function TechnicalFilter(feature) {
  if (feature.properties.Category === "Technical Assistance") return true
}
		function BuildingFilter(feature) {
  if (feature.properties.Category === "Building") return true
}
		function EnvironFilter(feature) {
  if (feature.properties.Category === "Environment") return true
}


var buttons = {
  environ: L.easyButton({
  	position: 'topright',
    states: [{
      stateName: 'add-markers',
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/E300.png" height="40" width="40" align="middle" style="opacity:0.4"/>',
      title: 'add random markers',
      onClick: function(control) {
        map.addLayer(markersEnviron);
        control.state('remove-markers');
      }
    }, {
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/E300.png" height="40" width="40" align="middle"/>',
      stateName: 'remove-markers',
      onClick: function(control) {
        map.removeLayer(markersEnviron);
        control.state('add-markers');
      },
      title: 'remove markers'
    }]
  }),
  building: L.easyButton({
  	position: 'topright',
    states: [{
      stateName: 'add-markers',
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/A300.png" height="40" width="40" align="middle" style="opacity:0.4"/>',
      title: 'add random markers',
      onClick: function(control) {
        map.addLayer(markersBuilding);
        control.state('remove-markers');
      }
    }, {
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/A300.png" height="40" width="40" align="middle"/>',
      stateName: 'remove-markers',
      onClick: function(control) {
        map.removeLayer(markersBuilding);
        control.state('add-markers');
      },
      title: 'remove markers'
    }]
  }),
  wash: L.easyButton({
  	position: 'topright',
    states: [{
      stateName: 'add-markers',
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/H300.png" height="40" width="40" align="middle" style="opacity:0.4"/>',
      title: 'add random markers',
      onClick: function(control) {
        map.addLayer(markersWASH);
        control.state('remove-markers');
      }
    }, {
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/H300.png" height="40" width="40" align="middle"/>',
      stateName: 'remove-markers',
      onClick: function(control) {
        map.removeLayer(markersWASH);
        control.state('add-markers');
      },
      title: 'remove markers'
    }]
  }),
  technical: L.easyButton({
  	position: 'topright',
    states: [{
      stateName: 'add-markers',
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/W300.png" height="40" width="40" align="middle" style="opacity:0.4"/>',
      title: 'add random markers',
      onClick: function(control) {
        map.addLayer(markersTechnical);
        control.state('remove-markers');
      }
    }, {
      icon: '<img alt="do this" src="https://ewbdk.org/graphics/logo/W300.png" height="40" width="40" align="middle"/>',
      stateName: 'remove-markers',
      onClick: function(control) {
        map.removeLayer(markersTechnical);
        control.state('add-markers');
      },
      title: 'remove markers'
    }]
  })
}
// add the buttons. iterates over the buttons objects
for (var key in buttons) {
  if (buttons.hasOwnProperty(key)) {
    buttons[key].addTo(map)
  }
}

}});



</script>





</body></html>
